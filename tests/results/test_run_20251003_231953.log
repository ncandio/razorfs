[0;34m[23:19:53][0m Test run started
[0;34m[23:19:53][0m Results will be saved to: tests/results/test_run_20251003_231953.log
[0;34m[23:19:53][0m Checking dependencies...
[0;32m✓[0m All dependencies found
[0;34m[23:19:53][0m Building test suite...
-- The C compiler identification is GNU 12.2.0
-- The CXX compiler identification is GNU 12.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found Python3: /usr/local/bin/python3 (found version "3.15.0") found components: Interpreter 
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
-- Found Threads: TRUE  
-- Found PkgConfig: /usr/bin/pkg-config (found version "1.8.1") 
-- Checking for module 'fuse3'
--   Found fuse3, version 3.14.0
-- Found ZLIB: /usr/lib/x86_64-linux-gnu/libz.so (found version "1.2.13") 
-- Configuring done
-- Generating done
-- Build files have been written to: /home/nico/WORK_ROOT/RAZOR_repo/build_tests
make[1]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[2]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[  3%] Building CXX object _deps/googletest-build/googletest/CMakeFiles/gtest.dir/src/gtest-all.cc.o
[  7%] Building C object CMakeFiles/razorfs_lib.dir/home/nico/WORK_ROOT/RAZOR_repo/src/shm_persist.c.o
[ 11%] Building C object CMakeFiles/razorfs_lib.dir/home/nico/WORK_ROOT/RAZOR_repo/src/string_table.c.o
[ 15%] Building C object CMakeFiles/razorfs_lib.dir/home/nico/WORK_ROOT/RAZOR_repo/src/nary_tree_mt.c.o
[ 19%] Building C object CMakeFiles/razorfs_lib.dir/home/nico/WORK_ROOT/RAZOR_repo/src/numa_support.c.o
[ 23%] Building C object CMakeFiles/razorfs_lib.dir/home/nico/WORK_ROOT/RAZOR_repo/src/compression.c.o
/home/nico/WORK_ROOT/RAZOR_repo/src/shm_persist.c: In function ‘shm_tree_init’:
/home/nico/WORK_ROOT/RAZOR_repo/src/shm_persist.c:41:9: warning: unused variable ‘numa_nodes’ [-Wunused-variable]
   41 |     int numa_nodes = numa_init();
      |         ^~~~~~~~~~
[ 26%] Linking C static library librazorfs_lib.a
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 26%] Built target razorfs_lib
[ 30%] Linking CXX static library ../../../lib/libgtest.a
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 30%] Built target gtest
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 38%] Building CXX object _deps/googletest-build/googlemock/CMakeFiles/gmock.dir/src/gmock-all.cc.o
[ 38%] Building CXX object _deps/googletest-build/googletest/CMakeFiles/gtest_main.dir/src/gtest_main.cc.o
[ 42%] Linking CXX static library ../../../lib/libgtest_main.a
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 42%] Built target gtest_main
[ 46%] Linking CXX static library ../../../lib/libgmock.a
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 46%] Built target gmock
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Entering directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 50%] Building CXX object CMakeFiles/compression_test.dir/unit/compression_test.cpp.o
[ 53%] Building CXX object CMakeFiles/nary_tree_test.dir/unit/nary_tree_test.cpp.o
[ 57%] Building CXX object CMakeFiles/string_table_test.dir/unit/string_table_test.cpp.o
[ 61%] Building CXX object CMakeFiles/architecture_test.dir/unit/architecture_test.cpp.o
[ 65%] Building CXX object CMakeFiles/integration_test.dir/integration/filesystem_test.cpp.o
[ 69%] Building CXX object CMakeFiles/shm_persist_test.dir/unit/shm_persist_test.cpp.o
[ 73%] Building CXX object _deps/googletest-build/googlemock/CMakeFiles/gmock_main.dir/src/gmock_main.cc.o
[ 76%] Linking CXX static library ../../../lib/libgmock_main.a
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 76%] Built target gmock_main
[ 80%] Linking CXX executable integration_test
[ 84%] Linking CXX executable shm_persist_test
[ 88%] Linking CXX executable compression_test
[ 92%] Linking CXX executable string_table_test
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 92%] Built target integration_test
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 92%] Built target shm_persist_test
[ 96%] Linking CXX executable architecture_test
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[ 96%] Built target compression_test
[ 96%] Built target string_table_test
[100%] Linking CXX executable nary_tree_test
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[100%] Built target architecture_test
make[3]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[100%] Built target nary_tree_test
make[2]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
make[1]: Leaving directory '/home/nico/WORK_ROOT/RAZOR_repo/build_tests'
[0;32m✓[0m Build successful
[0;34m[23:20:20][0m Running unit tests...
[0;34m[23:20:20][0m   Running string_table_test...
[==========] Running 17 tests from 2 test suites.
[----------] Global test environment set-up.
[----------] 11 tests from StringTableTest
[ RUN      ] StringTableTest.InitializationHeapMode
[       OK ] StringTableTest.InitializationHeapMode (0 ms)
[ RUN      ] StringTableTest.InternSingleString
[       OK ] StringTableTest.InternSingleString (0 ms)
[ RUN      ] StringTableTest.InternDeduplication
[       OK ] StringTableTest.InternDeduplication (0 ms)
[ RUN      ] StringTableTest.InternMultipleStrings
[       OK ] StringTableTest.InternMultipleStrings (0 ms)
[ RUN      ] StringTableTest.InternEmptyString
[       OK ] StringTableTest.InternEmptyString (0 ms)
[ RUN      ] StringTableTest.InternLongString
[       OK ] StringTableTest.InternLongString (0 ms)
[ RUN      ] StringTableTest.GetStats
[       OK ] StringTableTest.GetStats (0 ms)
[ RUN      ] StringTableTest.InvalidParameters
[       OK ] StringTableTest.InvalidParameters (0 ms)
[ RUN      ] StringTableTest.ManyStrings
[       OK ] StringTableTest.ManyStrings (4 ms)
[ RUN      ] StringTableTest.ManyDuplicates
[       OK ] StringTableTest.ManyDuplicates (0 ms)
[ RUN      ] StringTableTest.BoundaryConditions
[       OK ] StringTableTest.BoundaryConditions (0 ms)
[----------] 11 tests from StringTableTest (5 ms total)

[----------] 6 tests from StringTableShmTest
[ RUN      ] StringTableShmTest.InitializationShmMode
[       OK ] StringTableShmTest.InitializationShmMode (0 ms)
[ RUN      ] StringTableShmTest.InternInShmMode
[       OK ] StringTableShmTest.InternInShmMode (0 ms)
[ RUN      ] StringTableShmTest.ShmPersistence
[       OK ] StringTableShmTest.ShmPersistence (0 ms)
[ RUN      ] StringTableShmTest.ShmNoRealloc
[       OK ] StringTableShmTest.ShmNoRealloc (0 ms)
[ RUN      ] StringTableShmTest.InvalidShmParameters
[       OK ] StringTableShmTest.InvalidShmParameters (0 ms)
[ RUN      ] StringTableShmTest.OverflowProtection
[       OK ] StringTableShmTest.OverflowProtection (0 ms)
[----------] 6 tests from StringTableShmTest (0 ms total)

[----------] Global test environment tear-down
[==========] 17 tests from 2 test suites ran. (5 ms total)
[  PASSED  ] 17 tests.
[0;32m✓[0m   string_table_test passed
[0;34m[23:20:20][0m   Running nary_tree_test...
[==========] Running 19 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 19 tests from NaryTreeTest
[ RUN      ] NaryTreeTest.Initialization
[       OK ] NaryTreeTest.Initialization (0 ms)
[ RUN      ] NaryTreeTest.RootNodeExists
[       OK ] NaryTreeTest.RootNodeExists (0 ms)
[ RUN      ] NaryTreeTest.InsertSingleChild
[       OK ] NaryTreeTest.InsertSingleChild (0 ms)
[ RUN      ] NaryTreeTest.InsertMultipleChildren
[       OK ] NaryTreeTest.InsertMultipleChildren (0 ms)
[ RUN      ] NaryTreeTest.FindChild
[       OK ] NaryTreeTest.FindChild (0 ms)
[ RUN      ] NaryTreeTest.FindNonExistentChild
[       OK ] NaryTreeTest.FindNonExistentChild (0 ms)
[ RUN      ] NaryTreeTest.DeleteChild
[       OK ] NaryTreeTest.DeleteChild (0 ms)
[ RUN      ] NaryTreeTest.DeleteNonEmptyDirectory
[       OK ] NaryTreeTest.DeleteNonEmptyDirectory (0 ms)
[ RUN      ] NaryTreeTest.DeleteEmptyDirectory
[       OK ] NaryTreeTest.DeleteEmptyDirectory (0 ms)
[ RUN      ] NaryTreeTest.CreateNestedPath
[       OK ] NaryTreeTest.CreateNestedPath (0 ms)
[ RUN      ] NaryTreeTest.LockRead
[       OK ] NaryTreeTest.LockRead (0 ms)
[ RUN      ] NaryTreeTest.LockWrite
[       OK ] NaryTreeTest.LockWrite (0 ms)
[ RUN      ] NaryTreeTest.InvalidLockIndex
[       OK ] NaryTreeTest.InvalidLockIndex (0 ms)
[ RUN      ] NaryTreeTest.ConcurrentReads
[       OK ] NaryTreeTest.ConcurrentReads (1 ms)
[ DISABLED ] NaryTreeTest.DISABLED_ConcurrentInserts
[ RUN      ] NaryTreeTest.ConcurrentMixedOperations
[       OK ] NaryTreeTest.ConcurrentMixedOperations (0 ms)
[ RUN      ] NaryTreeTest.InvalidParameters
[       OK ] NaryTreeTest.InvalidParameters (0 ms)
[ RUN      ] NaryTreeTest.CapacityLimit
[       OK ] NaryTreeTest.CapacityLimit (0 ms)
[ RUN      ] NaryTreeTest.DeepNesting
[       OK ] NaryTreeTest.DeepNesting (0 ms)
[ RUN      ] NaryTreeTest.ManyChildren
[       OK ] NaryTreeTest.ManyChildren (0 ms)
[----------] 19 tests from NaryTreeTest (2 ms total)

[----------] Global test environment tear-down
[==========] 19 tests from 1 test suite ran. (2 ms total)
[  PASSED  ] 19 tests.

  YOU HAVE 1 DISABLED TEST

[0;32m✓[0m   nary_tree_test passed
[0;34m[23:20:20][0m   Running shm_persist_test...
[==========] Running 8 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 8 tests from ShmPersistTest
[ RUN      ] ShmPersistTest.CreateNewTree
ℹ️  NUMA: Not available (single node system)
🆕 Creating new persistent filesystem
💾 Filesystem detached - data persists in shared memory
[       OK ] ShmPersistTest.CreateNewTree (0 ms)
[ RUN      ] ShmPersistTest.CreateAndDetach
ℹ️  NUMA: Not available (single node system)
🆕 Creating new persistent filesystem
💾 Filesystem detached - data persists in shared memory
[       OK ] ShmPersistTest.CreateAndDetach (0 ms)
[ RUN      ] ShmPersistTest.CreateDetachReattach
ℹ️  NUMA: Not available (single node system)
🆕 Creating new persistent filesystem
💾 Filesystem detached - data persists in shared memory
ℹ️  NUMA: Not available (single node system)
♻️  Attaching to existing persistent filesystem
📊 Restored 3 nodes, next inode: 4
💾 Filesystem detached - data persists in shared memory
[       OK ] ShmPersistTest.CreateDetachReattach (0 ms)
[ RUN      ] ShmPersistTest.StringTablePersistence
ℹ️  NUMA: Not available (single node system)
🆕 Creating new persistent filesystem
💾 Filesystem detached - data persists in shared memory
ℹ️  NUMA: Not available (single node system)
♻️  Attaching to existing persistent filesystem
📊 Restored 5 nodes, next inode: 6
💾 Filesystem detached - data persists in shared memory
[       OK ] ShmPersistTest.StringTablePersistence (0 ms)
[ RUN      ] ShmPersistTest.DirectoryHierarchyPersistence
ℹ️  NUMA: Not available (single node system)
🆕 Creating new persistent filesystem
💾 Filesystem detached - data persists in shared memory
ℹ️  NUMA: Not available (single node system)
♻️  Attaching to existing persistent filesystem
📊 Restored 4 nodes, next inode: 5
💾 Filesystem detached - data persists in shared memory
[       OK ] ShmPersistTest.DirectoryHierarchyPersistence (0 ms)
[ RUN      ] ShmPersistTest.FileMetadataPersistence
ℹ️  NUMA: Not available (single node system)
🆕 Creating new persistent filesystem
💾 Filesystem detached - data persists in shared memory
ℹ️  NUMA: Not available (single node system)
♻️  Attaching to existing persistent filesystem
📊 Restored 2 nodes, next inode: 3
💾 Filesystem detached - data persists in shared memory
[       OK ] ShmPersistTest.FileMetadataPersistence (0 ms)
[ RUN      ] ShmPersistTest.Cleanup
ℹ️  NUMA: Not available (single node system)
🆕 Creating new persistent filesystem
💾 Filesystem detached - data persists in shared memory
ℹ️  NUMA: Not available (single node system)
🆕 Creating new persistent filesystem
💾 Filesystem detached - data persists in shared memory
[       OK ] ShmPersistTest.Cleanup (0 ms)
[ RUN      ] ShmPersistTest.InvalidDetach
[       OK ] ShmPersistTest.InvalidDetach (0 ms)
[ DISABLED ] ShmPersistTest.DISABLED_DoubleDetach
[ DISABLED ] ShmPersistTest.DISABLED_ManyFilesAcrossRemounts
[----------] 8 tests from ShmPersistTest (0 ms total)

[----------] Global test environment tear-down
[==========] 8 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 8 tests.

  YOU HAVE 2 DISABLED TESTS

[0;32m✓[0m   shm_persist_test passed
[0;34m[23:20:20][0m   Running compression_test...
[==========] Running 15 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 15 tests from CompressionTest
[ RUN      ] CompressionTest.CompressSmallData
/home/nico/WORK_ROOT/RAZOR_repo/tests/unit/compression_test.cpp:34: Failure
Expected: (compressed) != (nullptr), actual: NULL vs (nullptr)

[  FAILED  ] CompressionTest.CompressSmallData (0 ms)
[ RUN      ] CompressionTest.CompressDecompress
/home/nico/WORK_ROOT/RAZOR_repo/tests/unit/compression_test.cpp:47: Failure
Expected: (compressed) != (nullptr), actual: NULL vs (nullptr)

[  FAILED  ] CompressionTest.CompressDecompress (0 ms)
[ RUN      ] CompressionTest.CompressEmptyData
[       OK ] CompressionTest.CompressEmptyData (0 ms)
[ RUN      ] CompressionTest.CompressLargeData
[       OK ] CompressionTest.CompressLargeData (6 ms)
[ RUN      ] CompressionTest.HighlyCompressibleData
[       OK ] CompressionTest.HighlyCompressibleData (0 ms)
[ RUN      ] CompressionTest.RandomDataCompression
/home/nico/WORK_ROOT/RAZOR_repo/tests/unit/compression_test.cpp:138: Failure
Expected: (compressed) != (nullptr), actual: NULL vs (nullptr)

[  FAILED  ] CompressionTest.RandomDataCompression (0 ms)
[ RUN      ] CompressionTest.IsCompressedCheck
/home/nico/WORK_ROOT/RAZOR_repo/tests/unit/compression_test.cpp:157: Failure
Expected: (compressed) != (nullptr), actual: NULL vs (nullptr)

[  FAILED  ] CompressionTest.IsCompressedCheck (0 ms)
[ RUN      ] CompressionTest.CompressionStats
/home/nico/WORK_ROOT/RAZOR_repo/tests/unit/compression_test.cpp:180: Failure
Expected: (comp1) != (nullptr), actual: NULL vs (nullptr)

[  FAILED  ] CompressionTest.CompressionStats (0 ms)
[ RUN      ] CompressionTest.CompressNullData
[       OK ] CompressionTest.CompressNullData (0 ms)
[ RUN      ] CompressionTest.DecompressNullData
[       OK ] CompressionTest.DecompressNullData (0 ms)
[ RUN      ] CompressionTest.DecompressInvalidData
[       OK ] CompressionTest.DecompressInvalidData (0 ms)
[ RUN      ] CompressionTest.DecompressCorruptedData
/home/nico/WORK_ROOT/RAZOR_repo/tests/unit/compression_test.cpp:229: Failure
Expected: (compressed) != (nullptr), actual: NULL vs (nullptr)

[  FAILED  ] CompressionTest.DecompressCorruptedData (0 ms)
[ RUN      ] CompressionTest.CompressExactlyPageSize
[       OK ] CompressionTest.CompressExactlyPageSize (0 ms)
[ RUN      ] CompressionTest.MultiplePagesData
[       OK ] CompressionTest.MultiplePagesData (0 ms)
[ RUN      ] CompressionTest.MultipleCompressionCycles
/home/nico/WORK_ROOT/RAZOR_repo/tests/unit/compression_test.cpp:308: Failure
Expected: (compressed) != (nullptr), actual: NULL vs (nullptr)
Failed at cycle 0

[  FAILED  ] CompressionTest.MultipleCompressionCycles (0 ms)
[----------] 15 tests from CompressionTest (6 ms total)

[----------] Global test environment tear-down
[==========] 15 tests from 1 test suite ran. (6 ms total)
[  PASSED  ] 8 tests.
[  FAILED  ] 7 tests, listed below:
[  FAILED  ] CompressionTest.CompressSmallData
[  FAILED  ] CompressionTest.CompressDecompress
[  FAILED  ] CompressionTest.RandomDataCompression
[  FAILED  ] CompressionTest.IsCompressedCheck
[  FAILED  ] CompressionTest.CompressionStats
[  FAILED  ] CompressionTest.DecompressCorruptedData
[  FAILED  ] CompressionTest.MultipleCompressionCycles

 7 FAILED TESTS
