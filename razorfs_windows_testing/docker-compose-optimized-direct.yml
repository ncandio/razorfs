version: '3.8'

services:
  razorfs-optimized-test-direct:
    build:
      context: ..
      dockerfile: razorfs_windows_testing/Dockerfile.optimized.direct
    container_name: razorfs-optimized-test-direct
    privileged: true
    volumes:
      - type: bind
        source: ./results
        target: /results
    environment:
      - DEBIAN_FRONTEND=noninteractive
    command: /bin/bash -c "cd /razor_repo/razorfs_windows_testing && ./optimized_filesystem_comparison.sh"